                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  --not necessaire view
  -- CREATE OR REPLACE FORCE EDITIONABLE VIEW ETUDIANT_V (NOM, PRENOM,D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
  -- select nom, prenom, D_Naiss, sexe, tele, email, password, nationalite, cin, massar from etudiant;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW INFO_ACCADEMIQUE_V (D_GRADUATION, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2, N_S3, N_S4, N_S5, N_S6, PHOTO, ID_FIL_LICENCE, ID_ETUDIANT, ID_FACULTE) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
  select D_LICENCE, d_bac, fil_bac, moy_licence, moy_bac, n_s1, n_s2, n_s3, n_s4,n_s5, n_s6, photo,id_fil_licence, id_etudiant, id_faculte from info_academique;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW PROFILE (ID_ETUDIANT, NOM, PRENOM, D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR, D_LICENCE, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2, N_S3, N_S4, N_S5, N_S6, PHOTO, NOM_FIL, NOM_FAC, D_PR_INSCRIPTION) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
  SELECT e.ID_ETUDIANT,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
       e.NOM,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
       e.PRENOM,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
       to_char(e.D_NAISS, 'YYYY-MM-DD') D_NAISS,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
       e.SEXE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
       e.TELE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
       e.EMAIL,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       e.PASSWORD,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
       e.NATIONALITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
       e.CIN,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
       e.MASSAR,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
       to_char(ia.D_LICENCE, 'YYYY-MM-DD') D_LICENCE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
       to_char(ia.D_BAC, 'YYYY-MM-DD') D_BAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
       ia.FIL_BAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
       ia.MOY_LICENCE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
       ia.MOY_BAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
       ia.N_S1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       ia.N_S2,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       ia.N_S3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       ia.N_S4,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       ia.N_S5,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
       ia.N_S6,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
       ia.PHOTO,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
       fl.NOM_FIL,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
       f.NOM_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
       to_char(ia.d_pr_inscription, 'YYYY-MM-DD') d_pr_inscription                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
FROM Etudiant e                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
JOIN Info_academique ia ON e.ID_ETUDIANT = ia.ID_ETUDIANT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
JOIN Faculte f ON ia.ID_FACULTE = f.ID_FACULTE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
JOIN Filiere_LICENCE fl ON ia.ID_FIL_LICENCE = fl.ID_FIL_LICENCE;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW ETUDIANT_INFO_INSERTION (ID_ETUDIANT, NOM, PRENOM, D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR, D_LICENCE, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2, N_S3, N_S4, N_S5, N_S6, PHOTO, ID_FIL_LICENCE, ID_FACULTE, D_PR_INSCRIPTION) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
  SELECT ID_ETUDIANT, NOM, PRENOM, D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR, D_LICENCE, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2,N_S3, N_S4, N_S5, N_S6, PHOTO, ID_FIL_LICENCE, ID_FACULTE,d_pr_inscription                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
FROM ETUDIANT JOIN Info_academique USING(ID_ETUDIANT) ;    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW MASTER_CONDITION_V (ID_MASTER, SPECIALITE, NOM_COORDINATEUR, D_DEBUT_INSCRIPTION, D_FIN_INSCRIPTION, D_AFF_PRESELECTION, D_CONCOURS, D_AFF_RESULTAT_CONCOURS, LIEU_CONCOURS, INFORMATION, ID_RESPONSABLE, ID_CONDITION, MAX_AGE, MAX_ANNEE_ETUDE, NOTE_MIN_SEMESTRE, NOTE_SEUIL, DOCS_STRING) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  SELECT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
    m.id_master,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
    SPECIALITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
    NOM_COORDINATEUR,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
    to_char(D_DEBUT_INSCRIPTION,'YYYY-MM-DD') as D_DEBUT_INSCRIPTION,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
    to_char(D_FIN_INSCRIPTION,'YYYY-MM-DD') as D_FIN_INSCRIPTION ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    to_char(D_AFF_PRESELECTION ,'YYYY-MM-DD')as D_AFF_PRESELECTION ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    to_char(D_CONCOURS ,'YYYY-MM-DD')as D_CONCOURS ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    to_char(D_AFF_RESULTAT_CONCOURS ,'YYYY-MM-DD')as D_AFF_RESULTAT_CONCOURS ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
    LIEU_CONCOURS,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    INFORMATION,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
    ID_RESPONSABLE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
    --condition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
    c.id_condition,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
    MAX_AGE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
    MAX_ANNEE_ETUDE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    NOTE_MIN_SEMESTRE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
    NOTE_SEUIL,
    DOCS_STRING                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
FROM MASTER m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
join CONDITION c on c.id_condition=m.id_condition;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW RESPONSABLE_FACULTE_UNIVERSITE_V (ID_RESPONSABLE, EMAIL, ID_FACULTE, NOM_FAC, SURNOM_FAC, LOGO_FAC, ID_UNIVERSITE, NOM_UNI, VILLE, SURNOM_UNI, WEB_SITE, LOGO_UNI) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
select                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
ID_RESPONSABLE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
EMAIL,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
fac.ID_FACULTE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
NOM_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
SURNOM_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
LOGO_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
uni.ID_UNIVERSITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
NOM_UNI,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
VILLE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
SURNOM_UNI,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
WEB_SITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
LOGO_UNI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
from responsable RESPO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
JOIN faculte fac on respo.ID_FACULTE=fac.ID_FACULTE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
JOIN universite uni on fac.ID_UNIVERSITE=uni.ID_UNIVERSITE;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  --compilation errors                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
--   CREATE OR REPLACE FORCE EDITIONABLE VIEW INSCRIPTION_ETUDIANT_MASTER_V  (ID_INSCRIPTION, ID_MASTER, ID_ETUDIANT) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
--   SELECT ID_INSCRIPTION,id_master,etd.id_etudiant                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
-- from  INSCRIPTION insc                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
-- join etudiant etd on etd.ID_ETUDIANT=insc.id_etudiant;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--   --compilation errors                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
--   CREATE OR REPLACE FORCE EDITIONABLE VIEW PRESELECTION_ETUDIANT_MASTER_V (ID_PS, ID_MASTER, ID_ETUDIANT, CIN, MASSAR, NOM, PRENOM) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
--   SELECT pres.ID_PS, id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
-- from  PRESELECTION pres                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
-- join INSCRIPTION_ETUDIANT_MASTER_V IEMV on IEMV.ID_INSCRIPTION=pres.ID_INSCRIPTION;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--   --compilation errors                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
--   CREATE OR REPLACE FORCE EDITIONABLE VIEW LISTE_FINALE_ETUDIANT_MASTER_V (ID_LF, ID_MASTER, ID_ETUDIANT, CIN, MASSAR, NOM, PRENOM) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
--   SELECT ID_LF , id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
-- from  LISTE_FINALE  LF                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
-- join INSCRIPTION_ETUDIANT_MASTER_V IEMV on iemv.id_inscription=lf.id_inscription;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--     --compilation errors                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
--   CREATE OR REPLACE FORCE EDITIONABLE VIEW LISTE_ATTENTE_ETUDIANT_MASTER_V (ID_LA, ID_MASTER, ID_ETUDIANT, CIN, MASSAR, NOM, PRENOM) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
--   SELECT ID_LA , id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
-- from  LISTE_ATTENTE  LA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
-- join INSCRIPTION_ETUDIANT_MASTER_V IEMV on iemv.id_inscription=LA.id_inscription;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW INSCRIPTION_V (ID_MASTER, ID_ETUDIANT) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  SELECT id_master, id_Etudiant from inscription;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW MASTER_FILIER_ADMET_V (ID_MASTER, ID_FIL_LICENCE, NOM_FIL, SURNOM_FIL) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  select                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
id_master,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
FAM.ID_FIL_LICENCE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
fil.nom_fil,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
fil.surnom_fil                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
from filiere_admet_master fam                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
JOIN Filiere_LICENCE fil on fil.ID_FIL_LICENCE=fam.ID_FIL_LICENCE;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  CREATE OR REPLACE FORCE EDITIONABLE VIEW MASTER_CARD_V (ID_MASTER, SPECIALITE, NOM_COORDINATEUR, D_DEBUT_INSCRIPTION, D_FIN_INSCRIPTION, D_AFF_PRESELECTION, D_CONCOURS, D_AFF_RESULTAT_CONCOURS, ID_RESPONSABLE, ID_FACULTE, NOM_FAC, SURNOM_FAC, LOGO_FAC, ID_UNIVERSITE, NOM_UNI, VILLE, SURNOM_UNI, WEB_SITE, LOGO_UNI) AS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  SELECT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
    m.id_master,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
    SPECIALITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
    m.nom_coordinateur,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
    to_char(D_DEBUT_INSCRIPTION,'YYYY-MM-DD') as D_DEBUT_INSCRIPTION,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
    to_char(D_FIN_INSCRIPTION,'YYYY-MM-DD') as D_FIN_INSCRIPTION ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    to_char(D_AFF_PRESELECTION ,'YYYY-MM-DD')as D_AFF_PRESELECTION ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    to_char(D_CONCOURS ,'YYYY-MM-DD')as D_CONCOURS ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
    to_char(D_AFF_RESULTAT_CONCOURS ,'YYYY-MM-DD')as D_AFF_RESULTAT_CONCOURS ,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
    respo.ID_RESPONSABLE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
    fac.ID_FACULTE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
    NOM_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
    SURNOM_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
    LOGO_FAC,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
    uni.ID_UNIVERSITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
    NOM_UNI,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
    VILLE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
    SURNOM_UNI,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
    WEB_SITE,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
    LOGO_UNI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
FROM MASTER m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
join responsable respo  on respo.ID_RESPONSABLE=m.ID_RESPONSABLE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
join faculte fac  on respo.ID_FACULTE=fac.ID_FACULTE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
join universite uni on uni.ID_UNIVERSITE=fac.id_universite;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--warnings i.e. les masters qui sont proches de date de fin d'inscription (dont l'etudiant n'est pas encore inscrit)
select id_master,
       'Master ' || SURNOM_FAC || ' ' || VILLE "master_name", 
       to_date(D_FIN_INSCRIPTION, 'yyyy-mm-dd') "D_FIN_INSCRIPTION",  
       floor( to_date(D_FIN_INSCRIPTION, 'yyyy-mm-dd') - sysdate ) "time_left" 
       from master_card_v where  
            id_master not in (select id_master from inscription where id_etudiant = 27) and 
            floor( to_date(D_FIN_INSCRIPTION, 'yyyy-mm-dd') - sysdate ) between 0 and 3 ;



--vue mère
CREATE  VIEW INSCRIPTION_ETUDIANT_MASTER_V ("ID_INSCRIPTION", "ID_MASTER", "ID_ETUDIANT", "CIN", "MASSAR", "NOM", "PRENOM") AS 
SELECT ID_INSCRIPTION,id_master,etd.id_etudiant,etd.CIN,etd.MASSAR,etd.NOM,etd.PRENOM
from  INSCRIPTION insc 
join etudiant etd on etd.ID_ETUDIANT=insc.id_etudiant;

--vue pour insert 
CREATE VIEW Etudiant_Info_insertion AS 
SELECT ID_ETUDIANT, NOM, PRENOM, D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR, D_LICENCE, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2, N_S3, N_S4, N_S5, N_S6, DOCUMENT, PHOTO, ID_FIL_LICENCE, ID_FACULTE,d_pr_inscription
FROM ETUDIANT JOIN
Info_academique USING(ID_ETUDIANT) ;

--vue pous le responsable peut voir la list des preselection avant de les publier
create view LISTE_TMP_PRESELECTION_v as
SELECT pres.ID_PS, pres.ID_INSCRIPTION,pres.id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  TMP_PRESELECTION pres 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on IEMV.ID_INSCRIPTION=pres.ID_INSCRIPTION;

--vue pour la gestione des liste FINALE et att tmp
create view LISTE_TMP_FINALE_ETUDIANT_v as
SELECT lf.ID_LF,lf.ID_INSCRIPTION, lf.id_master ,id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  TMP_LISTE_FINALE lf 
join LISTE_TMP_PRESELECTION_V lP on lP.ID_INSCRIPTION=lf.ID_INSCRIPTION;

create view LISTE_TMP_ATTENTE_ETUDIANT_v as 
SELECT LA.ID_LA,LA.ID_INSCRIPTION,LA.id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  TMP_LISTE_ATTENTE LA 
join LISTE_TMP_PRESELECTION_V lP on lP.ID_INSCRIPTION=LA.ID_INSCRIPTION;
 

create view LISTE_PRESELECTION_v as
SELECT pres.ID_PS, pres.ID_INSCRIPTION,IEMV.id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  PRESELECTION pres 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on IEMV.ID_INSCRIPTION=pres.ID_INSCRIPTION;


create view LISTE_ATTENTE_ETUDIANT_v as 
SELECT LA.ID_LA,LA.ID_INSCRIPTION ,lP.id_master, id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  LISTE_ATTENTE LA 
join LISTE_PRESELECTION_v lP on lP.ID_INSCRIPTION=LA.ID_INSCRIPTION;

create view LISTE_FINALE_ETUDIANT_v as
SELECT lf.ID_LF,lf.ID_INSCRIPTION, lP.id_master ,id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  LISTE_FINALE lf 
join LISTE_PRESELECTION_v lP on lP.ID_INSCRIPTION=lf.ID_INSCRIPTION;

create view convocation_v as
SELECT conv.id_convocation, conv.ID_INSCRIPTION, id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  convocation conv 
join LISTE_ATTENTE_ETUDIANT_V LTAE on LTAE.ID_INSCRIPTION=conv.ID_INSCRIPTION;

create view tmp_convocation_v as
SELECT conv.id_convocation, conv.ID_INSCRIPTION, id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM,SCORE
from  tmp_convocation conv 
join LISTE_ATTENTE_ETUDIANT_V LTAE on LTAE.ID_INSCRIPTION=conv.ID_INSCRIPTION;

create view Publication_v as
select id_publication,pub.id_master,type_pub,TO_CHAR(date_publication,'dd/mm/yyyy') as date_publication ,titre,sous_titre,NOM_UNI,NOM_FAC,VILLE,LOGO_UNI 
from publication pub 
join MASTER_CARD_V mcv on mcv.id_master = pub.id_master;  

create view LISTE_Rejected_v as
SELECT rej.ID_INSCRIPTION,id_master, id_etudiant , CIN , MASSAR,NOM,PRENOM
from  rejected rej 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on IEMV.ID_INSCRIPTION=rej.ID_INSCRIPTION;

-- vue pour l'insertion des donnés de l'étudiant
CREATE VIEW Etudiant_Info_insertion AS 
SELECT ID_ETUDIANT, NOM, PRENOM, D_NAISS, SEXE, TELE, EMAIL, PASSWORD, NATIONALITE, CIN, MASSAR, D_LICENCE, D_BAC, FIL_BAC, MOY_LICENCE, MOY_BAC, N_S1, N_S2, N_S3, N_S4, N_S5, N_S6, DOCUMENT, PHOTO, ID_FIL_LICENCE, ID_FACULTE 
FROM ETUDIANT JOIN
Info_academique USING(ID_ETUDIANT) ;

--vue pour affichage des etudiant inscris au master 
create view INSCRIPTION_ETUDIANT_MASTER_v as 
SELECT ID_INSCRIPTION,id_master,etd.id_etudiant,etd.CIN,etd.MASSAR,etd.NOM,etd.PRENOM
from  INSCRIPTION insc 
join etudiant etd on etd.ID_ETUDIANT=insc.id_etudiant;

--vue pour afficher les préselections etudiant
create view PRESELECTION_ETUDIANT_MASTER_v as 
SELECT pres.ID_PS, id_master , id_etudiant,pres.id_inscription , CIN , MASSAR,NOM,PRENOM,SCORE
from  PRESELECTION pres 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on IEMV.ID_INSCRIPTION=pres.ID_INSCRIPTION;

--vue pour afficher LISTE FINALE
create view LISTE_FINALE_ETUDIANT_MASTER_v as 
SELECT ID_LF , id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM
from  LISTE_FINALE  LF 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on iemv.id_inscription=lf.id_inscription;

--vue pour afficher LISTE D'attente
create view LISTE_ATTENTE_ETUDIANT_MASTER_v as 
SELECT ID_LA , id_master , id_etudiant , CIN , MASSAR,NOM,PRENOM
from  LISTE_ATTENTE  LA 
join INSCRIPTION_ETUDIANT_MASTER_V IEMV on iemv.id_inscription=LA.id_inscription; 

            